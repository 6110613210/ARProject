{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nasongkhla\\\\Desktop\\\\ARProject\\\\Git\\\\ARproject\\\\ARproject\\\\react_101\\\\client\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport Axios from \"axios\";\nimport { Redirect } from 'react-router-dom';\nimport { AuthContext } from \"./Auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const {\n    currentUser,\n    setCurrentUser,\n    status,\n    setStatus\n  } = useContext(AuthContext);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState(null);\n  Axios.defaults.withCredentials = true;\n\n  const handleUsername = event => {\n    setUsername(event.target.value);\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const postLogin = async () => {\n    await Axios.post(\"http://localhost:3001/login\", {\n      username: username,\n      password: password\n    }).then(async response => {\n      if (response.data.message) {\n        await setError(response.data.message);\n      } else {\n        await setCurrentUser(response.data.username);\n        await setStatus(response.data.status);\n      }\n    });\n  };\n\n  if (!!currentUser && !!status) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 18\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"login-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Login \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container \",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-9 col-md-7 col-lg-5 mx-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-signin my-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title text-center\",\n                children: \" \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 13\n              }, this), \" \", error && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\" \", error, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 13\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-signin\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-label-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    id: \"inputUsername\",\n                    className: \"form-control\",\n                    placeholder: \"Username\",\n                    onChange: handleUsername\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 65,\n                    columnNumber: 9\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"inputUsername\",\n                    children: \" Username \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 71,\n                    columnNumber: 8\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 9\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"form-label-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    id: \"inputPassword\",\n                    className: \"form-control\",\n                    placeholder: \"Password  \",\n                    onChange: handlePassword\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 9\n                  }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"inputPassword\",\n                    children: \" Password \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 84,\n                    columnNumber: 8\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 9\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"register-link\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/register\",\n                    className: \"text-info\",\n                    children: \" Register here \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 9\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 15\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-signin btn-secondary\",\n                  type: \"submit\",\n                  onClick: postLogin,\n                  children: \" LOG IN \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 15\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 11\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 13\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 22\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 14\n  }, this);\n};\n\n_s(Login, \"0CW/J5sDZRvyU2bJtKC3FnPKb/Q=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/Nasongkhla/Desktop/ARProject/Git/ARproject/ARproject/react_101/client/src/components/Login.js"],"names":["React","useState","useContext","Axios","Redirect","AuthContext","Login","currentUser","setCurrentUser","status","setStatus","username","setUsername","password","setPassword","error","setError","defaults","withCredentials","handleUsername","event","target","value","handlePassword","postLogin","post","then","response","data","message"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport { AuthContext } from \"./Auth\";\r\nconst Login = () => {\r\n    const { currentUser, setCurrentUser, status, setStatus } = useContext(AuthContext);\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [error, setError] = useState(null);\r\n\r\n    Axios.defaults.withCredentials = true;\r\n\r\n    const handleUsername = event => {\r\n        setUsername(event.target.value);\r\n    }\r\n\r\n    const handlePassword = event => {\r\n        setPassword(event.target.value);\r\n    }\r\n\r\n\r\n    const postLogin = async() => {\r\n        await Axios.post(\"http://localhost:3001/login\", {\r\n            username: username,\r\n            password: password,\r\n        }).then(async(response) => {\r\n\r\n            if (response.data.message) {\r\n                await setError(response.data.message);\r\n            } else {\r\n                await setCurrentUser(response.data.username)\r\n                await setStatus(response.data.status)\r\n            }\r\n        });\r\n    };\r\n\r\n    if (!!currentUser && !!status) {\r\n        return ( < Redirect to = \"/\" / > );\r\n    }\r\n    return ( <\r\n            div className = \"login-page\" >\r\n            <\r\n            header className = \"login-header\" >\r\n            <\r\n            h1 > Login < /h1> < /\r\n            header > <\r\n            div className = \"container \" >\r\n            <\r\n            div className = \"row\" >\r\n            <\r\n            div className = \"col-sm-9 col-md-7 col-lg-5 mx-auto\" >\r\n            <\r\n            div className = \"card card-signin my-5\" >\r\n            <\r\n            div className = \"card-body\" >\r\n            <\r\n            h5 className = \"card-title text-center\" > < /h5> {\r\n            error &&\r\n            <\r\n            p > { error } < /p>\r\n        } <\r\n        div className = \"form-signin\" >\r\n        <\r\n        div className = \"form-label-group\" >\r\n        <\r\n        input type = \"text\"\r\n    id = \"inputUsername\"\r\n    className = \"form-control\"\r\n    placeholder = \"Username\"\r\n    onChange = { handleUsername }\r\n    /> <\r\n    label\r\n    for = \"inputUsername\" > Username < /label> < /\r\n        div >\r\n\r\n        <\r\n        div class = \"form-label-group\" >\r\n        <\r\n        input type = \"password\"\r\n    id = \"inputPassword\"\r\n    className = \"form-control\"\r\n    placeholder = \"Password  \"\r\n    onChange = { handlePassword }\r\n    /> <\r\n    label\r\n    for = \"inputPassword\" > Password < /label> < /\r\n        div > <\r\n        div id = \"register-link\" >\r\n        <\r\n        a href = \"/register\"\r\n    className = \"text-info\" > Register here < /a> < /\r\n        div > <\r\n        button className = \"btn btn-signin btn-secondary\"\r\n    type = \"submit\"\r\n    onClick = { postLogin } > LOG IN < /button> < /\r\n        div > <\r\n        /div> < /\r\n        div > <\r\n        /div> < /\r\n        div > <\r\n        /div> < /\r\n        div >\r\n);\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}